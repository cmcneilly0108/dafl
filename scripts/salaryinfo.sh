#!/bin/bash

#cd /home/cmcneilly/Dropbox/Personal/DAFL
#cd /mnt/c/Users/cmcne/Dropbox/Personal/DAFL
#curl 'http://dafl.baseball.cbssports.com/print/csv/stats/stats-main/team:all/y:p/salary%20info' -H 'Host: dafl.baseball.cbssports.com' -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:40.0) Gecko/20100101 Firefox/40.0' -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' -H 'Accept-Language: en-US,en;q=0.5' --compressed -H 'Referer: http://dafl.baseball.cbssports.com/stats/stats-main/team:all/y:p/salary%20info/' -H 'Cookie: tempSessionId=Cg6hK1ME07zYcaiNI+c; s_fid=0045FC8783BA25BC-0BCE5F47030267F0; s_getNewRepeat=1440541016346-Repeat; s_lv_cbssports=1403536712266; __gads=ID=0fea60ae6584d668:T=1392825277:S=ALNI_MYpC61JB9AomJ7hIh1ogdcZsJhoFA; XCLGFbrowser=EL46WFIstF+OATrKQfQ; pid=L:38:K4vV6pgauFaN%252FklYj01qiA%253D%253D:1; anon=FALSE; SportsLine=lname&McNeilly&userid&22085bf8208e&fname&Chris; __CT_Data=gpv=266&apv_4536_www09=3&apv_9595_www09=201; WRUID=0; utag_main=v_id:01465ee90c21003e1269d4e41ec809051003000f00fb8$_sn:237$_ss:0$_st:1440542814941$_pn:12%3Bexp-session$ses_id:1440540385443%3Bexp-session; s_lv_undefined=1440541016346; ALERT_sound=off; AMCV_10D31225525FF5790A490D4D%40AdobeOrg=-2017484664%7CMCMID%7C74487302739133420394431413717016729041%7CMCAAMLH-1440777263%7C9%7CMCAAMB-1440777263%7CcIBAx_aQzFEHcPoEv0GwcQ%7CMCAID%7C2A52096405193149-60000604200028B7; aam_uuid=74243932077103711194406774148147744937; __CT_Data=gpv=236&apv_4536_www09=3&apv_9595_www09=169; __utma=133659419.571239040.1421172854.1440537285.1440540390.132; __utmz=133659419.1421172854.1.1.utmcsr=(direct)|utmccn=(direct)|utmcmd=(none); aam_uuid=74243932077103711194406774148147744937; LDCLGFbrowser=5e0a423d-5a00-47d8-9c67-a02e014a726a; gebDnVVAmj=81111133915; chatMessage=1; optimizelySegments=%7B%222505680561%22%3A%22ff%22%2C%222508950642%22%3A%22false%22%2C%222529080292%22%3A%22direct%22%2C%222524630265%22%3A%22none%22%2C%22233752133%22%3A%22ff%22%2C%221762890450%22%3A%22none%22%2C%221633460559%22%3A%22true%22%2C%22233682199%22%3A%22direct%22%2C%22233620402%22%3A%22false%22%2C%222774430393%22%3A%22direct%22%2C%222760641268%22%3A%22false%22%2C%222782740429%22%3A%22none%22%2C%222767250350%22%3A%22ff%22%7D; optimizelyEndUserId=oeu1426090126985r0.7084489872710146; optimizelyBuckets=%7B%223226860680%22%3A%223210181298%22%7D; _dyus_8765636=607%7C3073%7C13%7C0%7C0%7C0.0.1426090129238.1440446257992.14356128.0%7C235%7C35%7C7%7C115%7C2%7C0%7C0%7C0%7C0%7C0%7C0%7C2%7C0%7C0%7C0%7C3%7C0%7C2%7C8%7C11%7C19%7C6%7C47; _dycst=m.f.ws.nc.; _dy_geo=US.NA.US_CA.US_CA_San%20Jose; omni_videoAutoPlayState=true; OX_nd=537074755_2_1438612757742; CBS_INTERNAL=0; _dy_toffset=-4; hycw4hSBtd=true; s_vnum=1442094818358%26vn%3D17; fantasy_cookie=ws1236%3A8000%3A1440540853%3Adafl.baseball.cbssports.com; last_access=1440541003; surround=f|3; JYaH5Y2vxL=true; s_cc=true; s_sq=%5B%5BB%5D%5D; __utmc=133659419; lpsTrackCount7=result; QSI_HistorySession=http%3A%2F%2Fdafl.baseball.cbssports.com%2Fscoring%2Fstandard~1440537288216%7Chttp%3A%2F%2Fdafl.baseball.cbssports.com%2F~1440537307744%7Chttp%3A%2F%2Fdafl.baseball.cbssports.com%2Fstats%2Fstats-main~1440540408723%7Chttp%3A%2F%2Fdafl.baseball.cbssports.com%2Fstats~1440540414951%7Chttp%3A%2F%2Fdafl.baseball.cbssports.com%2Fstats%2Fstats-main%2Fteam%3Aall%2Fy%3Af%2Fsalary%2520info%2F~1440540455429%7Chttp%3A%2F%2Fdafl.baseball.cbssports.com%2Fstats~1440540769143; s_invisit=true; s_lv_undefined_s=Less%20than%201%20day; __utmb=133659419.12.10.1440540390; sq4YFvJMK2=0; optimizelyPendingLogEvents=%5B%22n%3Dengagement%26u%3Doeu1426090126985r0.7084489872710146%26wxhr%3Dtrue%26time%3D1440541100.035%26f%3D3153990678%26g%3D233681392%22%5D' -H 'Connection: keep-alive'

curl 'https://dafl.baseball.cbssports.com/print/csv/stats/view/team:all/ytd:p/salary%20info/stats' \
  -H 'authority: dafl.baseball.cbssports.com' \
  -H 'upgrade-insecure-requests: 1' \
  -H 'dnt: 1' \
  -H 'user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.128 Safari/537.36' \
  -H 'accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9' \
  -H 'sec-fetch-site: same-origin' \
  -H 'sec-fetch-mode: navigate' \
  -H 'sec-fetch-user: ?1' \
  -H 'sec-fetch-dest: document' \
  -H 'referer: https://dafl.baseball.cbssports.com/stats/stats-main/team:all/ytd:f/salary%20info/' \
  -H 'accept-language: en-US,en;q=0.9' \
  -H 'cookie: fly_device=desktop; AMCVS_10D31225525FF5790A490D4D%40AdobeOrg=1; _ga=GA1.2.345958452.1569188572; s_cc=true; i10cfd=1; surround=b|1; fly_tracking=%7B%22userId%22%3A43879498%2C%22userState%22%3A%22authenticated%22%2C%22userType%22%3A%22registered%22%7D; cbssports_ad=%7B%22region%22%3A%22aw%22%2C%22session%22%3A%22c%22%2C%22subSession%22%3A%223%22%2C%22type%22%3A%22gpt%22%7D; i10c.ss=1577038828692; i10c3C=0; m0r9h.salt=MOREPHEUS12$; i10cTC=67; i10cTS=1578284636746; fly_geo={"countryCode":"us","region":"ca"}; s_lv_undefined=1587422764855; fly_ab=3a60bc20-2193-4aeb-b516-cd314026aa66; _admrla=2.; _gcl_au=1.1.1386652081.1599098292; _fbp=fb.1.1599098292651.1898321276; aam_uuid=66382081200777632630003692687175684392; __qca=P0-1575641368-1599495420903; region_code=CA; gadsTest=test; initial_referrer=SNL-04-10aaa0e; ppid=ac7c6ecaaecc33b6f4b54a092036508a; pid=L%3A52%3AK4vV6pgauFaN%252FklYj01qiA%253D%253D%3A1; anon=FALSE; tpid=I%3A2bZ5NXy2p1IT1tqPrMMJhrk8SqvbiuCA7UYwDa0DRIQ%253D%3A1; SportsLine=fname&Chris&lname&McNeilly&userid&22085bf8208e; _BB.bs=b|1; cbsiaa=43879498; _pbjs_userid_consent_data=3524755945110770; _pubcid=a94e2732-718d-4d2f-bead-8f57fb73b6fe; fly-session=llkkbthl7eb3e592842hjv0gf0; _lr_env_src_ats=false; vcppn=Mon Mar 15 2021 09:09:06 GMT-0700 (Pacific Daylight Time); fantasyTokenPicks=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEzNDEzNzIxLCJlbmNyeXB0ZWRQaWQiOiJLNHZWNnBnYXVGYU4va2xZajAxcWlBPT0ifQ.d6DSWC4wkUD_t51ihgLBUS5-bY-jN5CfbOqFJMcpFvc; aamgam=segid%3D17873358%2C16017637%2C17872405%2C18582211%2C16185172%2C16007068%2C15463662%2C13607396%2C12735092%2C12734882%2C12681061%2C1608821%2C1608815%2C13100219; AAMC_cbsi_0=REGION%7C7%7CAMSYNCSOP%7C%7CAMSYNCS%7C; AMCV_10D31225525FF5790A490D4D%40AdobeOrg=-1712354808%7CMCIDTS%7C18734%7CMCMID%7C66496153417240104390025496076474930256%7CMCAAMLH-1619218571%7C7%7CMCAAMB-1619218571%7CRKhpRz8krg2tLO6pguXWp5olkAcUniQYPHaMWWgdJ3xzPWQmdj0y%7CMCOPTOUT-1618620971s%7CNONE%7CMCAID%7C2EC3F56F7FFF8000-4014DFFAE01297BD%7CvVersion%7C4.3.0%7CMCCIDH%7C2023274812; s_sq=%5B%5BB%5D%5D; _awl=2.1618613804.0.4-d2afd5c1-492f2916dc406bcffc229b5665d3c124-6763652d75732d7765737431-607a1627-7; __gads=ID=a04a4a100d3b3454-223756c240c7004a:T=1618613809:R:S=ALNI_MY0w1UkIg2fD4Gq1xO6cN2XlZ3kpA; RT="z=1&dm=cbssports.com&si=7fd7d4c9-6d65-420e-9bb0-dcfee0d87dd0&ss=knkwuhpl&sl=2&tt=5hx&bcn=%2F%2F173e250c.akstat.io%2F&ld=my2&ul=325r&hd=327o"; XFP_FIRSTPAGE=0; _lr_retry_request=true; OptanonAlertBoxClosed=2021-04-18T20:31:28.962Z; _BB.d=0|||70; OptanonConsent=isIABGlobal=false&datestamp=Sun+Apr+18+2021+13%3A31%3A30+GMT-0700+(Pacific+Daylight+Time)&version=6.15.0&hosts=&consentId=419fccf2-b622-488d-9e60-613ad67ea526&interactionCount=2&landingPath=NotLandingPage&groups=1%3A1%2C2%3A1%2C3%3A1%2C4%3A1%2C5%3A1&AwaitingReconsent=false&geolocation=US%3BCA; utag_main=v_id:016d5aed67a90017f199a0e7c29302086001a07e00ac2$_sn:352$_ss:0$_st:1618779690488$vapi_domain:cbssports.com$dc_visit:140$_se:256$ses_id:1618777735561%3Bexp-session$_pn:5%3Bexp-session; last_access=1618778052; fantasy_cookie=%3A8000%3A1618777957%3Adafl.baseball.cbssports.com' \
  --compressed > ../salaryinfo.csv
