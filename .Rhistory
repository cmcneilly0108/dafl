setwd("~/Dropbox/Personal/DAFL")
library("openxlsx")
library("stringr")
library("dplyr")
library("XML")
library("ggplot2")
library("reshape2")
library("lubridate")
library("zoo")
library("xml2")
library("rvest")
library("jsonlite")
source("./daflFunctions.r")
aWeek <- as.integer((as.integer(today() - as.Date("2024-03-31"))+1)/7) + 1
tWeeks <-30
# Update data files
fd <- file.info("../steamerHROS.json")$mtime
cd <- Sys.time()
dt <- as.integer(difftime(cd, fd, units = "hours"))
#dt <- 9
if (dt > 10) {
system("bash ../scripts/pullSteamerROS.sh")
system("bash ../scripts/pullBatXROS.sh")
system("bash ../scripts/pullSteamer.sh")
system("bash ../scripts/pullCBS.sh")
system("bash ../scripts/pullCBS2.sh")
system("bash ../scripts/salaryinfo.sh")
#system("bash ../scripts/fgInj.sh")
}
system("bash ../scripts/pullSteamerROS.sh")
system("bash ../scripts/pullBatXROS.sh")
dt <- as.integer(difftime(cd, fd, units = "hours"))
system("bash ../scripts/pullSteamerROS.sh")
